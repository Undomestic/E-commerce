:root {
	--bg: #0b0b0b;
	--panel: #111214;
	--brand: #6c8cff;
	--accent: #a2ffce;
	--text: #e6ebf2;
	--card-border: #2a2e35;
	--muted: #999;
}

* { box-sizing: border-box; }

html, body {
	height: 100%;
	margin: 0;
	background: var(--bg);
	color: var(--text);
	font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

.scene {
	position: relative;
	height: 100%;
	overflow: hidden;
}

/* Split panels - Responsive */
.panel {
	position: absolute;
	top: 0;
	bottom: 0;
	width: 52%;
	background: radial-gradient(1200px 600px at 20% 20%, #1a2533 0%, #0d1117 45%, var(--panel) 100%);
	box-shadow: inset 0 0 80px rgba(0,0,0,.5);
	will-change: transform;
}

/* Mobile: Hide panels on small screens */
@media (max-width: 768px) {
	.panel {
		display: none;
	}
}

.panel.left { left: -2%; transform: translateX(0); }
.panel.right { right: -2%; transform: translateX(0); background: radial-gradient(1200px 600px at 80% 20%, #1f2a3a 0%, #0d1117 45%, var(--panel) 100%); }

/* Slash (katana cut) - Responsive */
.slash {
	position: absolute;
	top: -10%;
	left: 50%;
	width: 3px;
	height: 120%;
	background: linear-gradient(180deg, rgba(255,255,255,.0) 0%, #ffffff 45%, rgba(255,255,255,.0) 100%);
	filter: drop-shadow(0 0 6px #fff) drop-shadow(0 0 14px var(--brand));
	transform: translateX(-50%) skewX(-18deg) scaleX(0);
	opacity: 0;
}

/* Hide slash on mobile */
@media (max-width: 768px) {
	.slash {
		display: none;
	}
}

/* Modal form - Fully responsive */
.modal {
	position: absolute;
	inset: 0;
	display: grid;
	place-items: center;
	pointer-events: none;
	padding: 20px;
}

.modal-card {
	width: 100%;
	max-width: 440px;
	background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
	border: 1px solid var(--card-border);
	border-radius: 16px;
	padding: 22px 20px;
	box-shadow:
		0 10px 30px rgba(0,0,0,.45),
		inset 0 0 0 1px rgba(255,255,255,.06);
	backdrop-filter: blur(10px);
	transform: scale(.86) translateY(10px);
	opacity: 0;
	pointer-events: auto;
}

/* Mobile adjustments */
@media (max-width: 480px) {
	.modal {
		padding: 10px;
	}
	
	.modal-card {
		padding: 18px 16px;
		border-radius: 12px;
	}
	
	.modal-card h2 {
		font-size: 1.3em;
		margin: 4px 0 10px;
	}
}

/* Tablet adjustments */
@media (min-width: 481px) and (max-width: 768px) {
	.modal-card {
		padding: 20px 18px;
	}
}

/* Desktop adjustments */
@media (min-width: 769px) {
	.modal-card {
		padding: 24px 22px;
	}
}

.modal-card h2 {
	margin: 6px 0 12px;
	font-weight: 700;
	letter-spacing: .3px;
}

.field { 
	display: grid; 
	gap: 6px; 
    
	margin: 10px 0; 
}

.field label { 
	font-size: 12px; 
	color: var(--muted); 
}

.field input {
	background: var(--panel);
	border: 1px solid var(--card-border);
	color: var(--text);
	padding: 12px 12px;
	border-radius: 10px;
	outline: none;
	transition: border-color .2s, box-shadow .2s;
	font-size: 16px; /* Prevents zoom on iOS */
}

/* Mobile input adjustments */
@media (max-width: 480px) {
	.field input {
		padding: 10px 12px;
		font-size: 16px;
	}
}

.field input:focus {
	border-color: var(--brand);
	box-shadow: 0 0 0 3px rgba(108, 140, 255, .15);
}

.btn {
	width: 100%;
	margin-top: 4px;
	background: linear-gradient(135deg, var(--brand) 0%, var(--accent) 100%);
	border: none;
	color: #0b0b0b;
	font-weight: 700;
	padding: 12px 14px;
	border-radius: 10px;
	cursor: pointer;
	font-size: 16px; /* Prevents zoom on iOS */
	transition: transform 0.2s ease;
}

/* Mobile button adjustments */
@media (max-width: 480px) {
	.btn {
		padding: 10px 14px;
		min-height: 44px; /* Better touch target */
	}
}

.btn:hover {
	transform: translateY(-1px);
}

.btn:active {
	transform: translateY(0);
}

/* Provider buttons - Responsive */
.provider {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 10px;
	background: rgba(108, 140, 255, .08);
	color: var(--text);
	border: 1px solid var(--card-border);
	min-height: 44px; /* Better touch target */
}

.provider .icon { 
	display: inline-flex; 
	flex-shrink: 0;
}

.provider-google { background: rgba(108, 140, 255, .08); }
.provider-apple { background: rgba(108, 140, 255, .08); }

/* Phone distinct style */
.provider-phone {
	background: transparent;
	color: var(--text);
	border: 1px dashed var(--card-border);
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 10px;
	min-height: 44px;
}

/* Mobile: Stack provider buttons vertically on very small screens */
@media (max-width: 360px) {
	.provider {
		flex-direction: column;
		gap: 8px;
		padding: 12px 14px;
	}
	
	.provider span:not(.icon) {
		font-size: 14px;
	}
}

/* Home button styling */
.home {
    background-color: transparent;
    text-align: center;
    justify-content: center;
    align-items: center;
    color: var(--text);
    font-size: 12px;
    border: none;
    cursor: pointer;
    padding: 44%;
    padding-top: 10px;
    border-radius: 10px;
}

/* Landscape orientation adjustments */
@media (max-height: 500px) and (orientation: landscape) {
	.modal {
		padding: 10px;
	}
	
	.modal-card {
		padding: 16px 14px;
	}
	
	.field {
		margin: 6px 0;
	}
	
	.modal-card h2 {
		margin: 2px 0 8px;
	}
}

/* Large screen adjustments */
@media (min-width: 1200px) {
	.modal-card {
		max-width: 480px;
		padding: 28px 24px;
	}
	
	.modal-card h2 {
		font-size: 1.5em;
	}
}

/* Animations */
@keyframes slashIn {
	0% { transform: translateX(-50%) skewX(-18deg) scaleX(0); opacity: 0; }
	12% { opacity: 1; }
	45% { transform: translateX(-50%) skewX(-18deg) scaleX(1.1); opacity: 1; }
	100% { transform: translateX(-50%) skewX(-18deg) scaleX(.0); opacity: 0; }
}

@keyframes leftSplit {
	0% { transform: translateX(0); }
	100% { transform: translateX(-32vw); }
}
@keyframes rightSplit {
	0% { transform: translateX(0); }
	100% { transform: translateX(32vw); }
}
@keyframes popIn {
	0% { opacity: 0; transform: scale(.86) translateY(10px); }
	100% { opacity: 1; transform: scale(1) translateY(0); }
}

/* Triggered state */
.scene.katana .slash {
	animation: slashIn .65s cubic-bezier(.2,.6,.1,1) .05s both;
}
.scene.katana .panel.left {
	animation: leftSplit .7s cubic-bezier(.2,.8,.15,1) .1s both;
}
.scene.katana .panel.right {
	animation: rightSplit .7s cubic-bezier(.2,.8,.15,1) .1s both;
}
.scene.katana .modal-card {
	animation: popIn .45s cubic-bezier(.2,.8,.2,1) .28s both;
}

/* Providers row & icon buttons */
.providers-row {
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 12px;
	margin: 8px 0 6px;
}

.provider-icon {
	width: 44px;
	height: 36px;
	border: 1px solid var(--card-border);
	border-radius: 10px;
	background: rgba(108, 140, 255, .08);
	display: inline-flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: transform .15s ease, box-shadow .15s ease, background-color .15s ease;
	padding: 0;
}

.provider-icon svg { pointer-events: none; }

.provider-icon:hover { transform: translateY(-1px); }
.provider-icon:active { transform: translateY(0); }
.provider-icon:focus-visible { outline: 3px solid rgba(108, 140, 255, .25); outline-offset: 2px; }

/* Brand variants */
.provider-icon.fb { background: #1877F2; border-color: #1877F2; }
.provider-icon.google { background: #ffffff; border-color: #e2e8f0; }
.provider-icon.apple { background: #000000; border-color: #000000; }
.provider-icon.xbox { background: #107C10; border-color: #107C10; }
.provider-icon.ps { background: #003791; border-color: #003791; }

/* Stay signed in */
.stay-signed {
	display: flex;
	justify-content: center;
	margin-top: 6px;
}